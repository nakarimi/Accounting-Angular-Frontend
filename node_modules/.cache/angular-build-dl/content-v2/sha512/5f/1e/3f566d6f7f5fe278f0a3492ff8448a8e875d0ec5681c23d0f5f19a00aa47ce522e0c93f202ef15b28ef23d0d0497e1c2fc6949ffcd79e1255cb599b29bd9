function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["components-user-user-module"], {
  /***/
  "./node_modules/raw-loader/dist/cjs.js!./src/app/components/user/user.component.html":
  /*!*******************************************************************************************!*\
    !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/components/user/user.component.html ***!
    \*******************************************************************************************/

  /*! exports provided: default */

  /***/
  function node_modulesRawLoaderDistCjsJsSrcAppComponentsUserUserComponentHtml(module, __webpack_exports__, __webpack_require__) {
    "use strict";

    __webpack_require__.r(__webpack_exports__);
    /* harmony default export */


    __webpack_exports__["default"] = "<table width=\"100%\" mat-table [dataSource]=\"dataSource\" matSort matSortActive=\"id\" matSortDisableClear\n  matSortDirection=\"desc\">\n\n  <!-- Number Column -->\n  <ng-container matColumnDef=\"username\">\n    <th mat-header-cell *matHeaderCellDef mat-sort-header>Username</th>\n    <td mat-cell *matCellDef=\"let row\">{{row.username}}</td>\n  </ng-container>\n  <ng-container matColumnDef=\"email\">\n    <th mat-header-cell *matHeaderCellDef mat-sort-header>Email</th>\n    <td mat-cell *matCellDef=\"let row\">{{row.email}}</td>\n  </ng-container>\n  <ng-container matColumnDef=\"first_name\">\n    <th mat-header-cell *matHeaderCellDef mat-sort-header>First Name</th>\n    <td mat-cell *matCellDef=\"let row\">{{row.first_name}}</td>\n  </ng-container>\n  <ng-container matColumnDef=\"last_name\">\n    <th mat-header-cell *matHeaderCellDef mat-sort-header>Last Name</th>\n    <td mat-cell *matCellDef=\"let row\">{{row.last_name}}</td>\n  </ng-container>\n  <ng-container matColumnDef=\"is_active\">\n    <th mat-header-cell *matHeaderCellDef mat-sort-header>Is Active</th>\n    <td mat-cell *matCellDef=\"let row\">{{row.is_active}}</td>\n  </ng-container>\n  <ng-container matColumnDef=\"date_joined\">\n    <th mat-header-cell *matHeaderCellDef mat-sort-header>Date Joined</th>\n    <td mat-cell *matCellDef=\"let row\">{{ row.date_joined | date: 'MMM d, y' }}</td>\n  </ng-container>\n  <ng-container matColumnDef=\"is_superuser\">\n    <th mat-header-cell *matHeaderCellDef mat-sort-header>Is Superuser</th>\n    <td mat-cell *matCellDef=\"let row\">\n      <div [ngClass]=\"['super', 'superuser']\" *ngIf=\"row.is_superuser\">\n        <mat-icon>check_circle</mat-icon>\n        <div [ngClass]=\"'superusersync'\" (click)=\"switchSuperUser(row)\">\n          <mat-icon>sync</mat-icon>\n        </div>\n      </div>\n      <div [ngClass]=\"['nosuper', 'superuser']\" *ngIf=\"!row.is_superuser\">\n        <mat-icon>cancel</mat-icon>\n        <div [ngClass]=\"'superusersync'\" (click)=\"switchSuperUser(row)\">\n          <mat-icon>sync</mat-icon>\n        </div>\n      </div>\n      \n    </td>\n  </ng-container>\n  <ng-container matColumnDef=\"last_login\">\n    <th mat-header-cell *matHeaderCellDef mat-sort-header>Last Login</th>\n    <td mat-cell *matCellDef=\"let row\">{{ row.last_login | date: 'MMM d, y HH:MM:SS' }}</td>\n  </ng-container>\n  <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\n  <tr mat-row *matRowDef=\"let row; columns: displayedColumns;\"></tr>\n  <mat-paginator [length]=\"resultsLength\" [pageSize]=\"30\"></mat-paginator>\n</table>";
    /***/
  },

  /***/
  "./src/app/components/user/user.component.css":
  /*!****************************************************!*\
    !*** ./src/app/components/user/user.component.css ***!
    \****************************************************/

  /*! exports provided: default */

  /***/
  function srcAppComponentsUserUserComponentCss(module, __webpack_exports__, __webpack_require__) {
    "use strict";

    __webpack_require__.r(__webpack_exports__);
    /* harmony default export */


    __webpack_exports__["default"] = ".superuser{\r\n  float: left;\r\n  width: 50px;\r\n}\r\n.superuser.super > .mat-icon {\r\n  color: chartreuse;\r\n}\r\n.superuser.nosuper > .mat-icon {\r\n  color:crimson;\r\n}\r\n.superusersync{\r\n  cursor: pointer;\r\n  display: none;\r\n  float: right;\r\n}\r\n.superuser:hover > .superusersync{\r\n  display: block;\r\n}\r\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy91c2VyL3VzZXIuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLFdBQVc7RUFDWCxXQUFXO0FBQ2I7QUFDQTtFQUNFLGlCQUFpQjtBQUNuQjtBQUNBO0VBQ0UsYUFBYTtBQUNmO0FBRUE7RUFDRSxlQUFlO0VBQ2YsYUFBYTtFQUNiLFlBQVk7QUFDZDtBQUNBO0VBQ0UsY0FBYztBQUNoQiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvdXNlci91c2VyLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuc3VwZXJ1c2Vye1xyXG4gIGZsb2F0OiBsZWZ0O1xyXG4gIHdpZHRoOiA1MHB4O1xyXG59XHJcbi5zdXBlcnVzZXIuc3VwZXIgPiAubWF0LWljb24ge1xyXG4gIGNvbG9yOiBjaGFydHJldXNlO1xyXG59XHJcbi5zdXBlcnVzZXIubm9zdXBlciA+IC5tYXQtaWNvbiB7XHJcbiAgY29sb3I6Y3JpbXNvbjtcclxufVxyXG5cclxuLnN1cGVydXNlcnN5bmN7XHJcbiAgY3Vyc29yOiBwb2ludGVyO1xyXG4gIGRpc3BsYXk6IG5vbmU7XHJcbiAgZmxvYXQ6IHJpZ2h0O1xyXG59IFxyXG4uc3VwZXJ1c2VyOmhvdmVyID4gLnN1cGVydXNlcnN5bmN7XHJcbiAgZGlzcGxheTogYmxvY2s7XHJcbn0iXX0= */";
    /***/
  },

  /***/
  "./src/app/components/user/user.component.ts":
  /*!***************************************************!*\
    !*** ./src/app/components/user/user.component.ts ***!
    \***************************************************/

  /*! exports provided: UserComponent */

  /***/
  function srcAppComponentsUserUserComponentTs(module, __webpack_exports__, __webpack_require__) {
    "use strict";

    __webpack_require__.r(__webpack_exports__);
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "UserComponent", function () {
      return UserComponent;
    });
    /* harmony import */


    var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(
    /*! @angular/core */
    "./node_modules/@angular/core/fesm2015/core.js");
    /* harmony import */


    var _api_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(
    /*! ../../api.service */
    "./src/app/api.service.ts");
    /* harmony import */


    var _angular_material__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(
    /*! @angular/material */
    "./node_modules/@angular/material/esm2015/material.js");
    /* harmony import */


    var _shared_toast_toast_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(
    /*! ../../shared/toast/toast-service */
    "./src/app/shared/toast/toast-service.ts");

    var __decorate = undefined && undefined.__decorate || function (decorators, target, key, desc) {
      var c = arguments.length,
          r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,
          d;
      if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) {
        if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
      }
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };

    var __metadata = undefined && undefined.__metadata || function (k, v) {
      if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
    };

    var __importDefault = undefined && undefined.__importDefault || function (mod) {
      return mod && mod.__esModule ? mod : {
        "default": mod
      };
    };

    var UserComponent = /*#__PURE__*/function () {
      function UserComponent(apiService, toast) {
        _classCallCheck(this, UserComponent);

        this.apiService = apiService;
        this.toast = toast; // Define all the variable

        this.displayedColumns = ['username', 'email', 'first_name', 'last_name', 'is_active', 'date_joined', 'last_login', 'is_superuser'];
        this.resultsLength = 0;
        this.isLoadingResults = true;
        this.isRateLimitReached = false; // Build the table data source based on table data.

        this.tableData = [];
        this.dataSource = new _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatTableDataSource"](this.tableData);
      }

      _createClass(UserComponent, [{
        key: "ngOnInit",
        value: function ngOnInit() {
          this.loadUsers();
        }
      }, {
        key: "loadUsers",
        value: function loadUsers() {
          var _this = this;

          this.apiService.loadAll('users').subscribe(function (result) {
            _this.dataSource.data = result;
            _this.dataSource.sort = _this.msort;
          }, function (error) {
            console.log(error);
          });
        }
      }, {
        key: "switchSuperUser",
        value: function switchSuperUser(data) {
          var _this2 = this;

          var msg;

          if (data.is_superuser) {
            msg = "Are you sure to revoke Superuser?";
          } else {
            msg = "Are you sure to make Superuser?";
          }

          if (confirm(msg)) {
            this.apiService.parUpdate(data.id, {
              'is_superuser': !data.is_superuser
            }, 'users').subscribe(function (result) {
              _this2.toast.show('User updated successfully!', {
                classname: 'bg-info text-light',
                delay: 2500
              });

              _this2.updateTable(data, result);
            }, function (error) {
              console.log(error);
            });
          }
        }
      }, {
        key: "addToTable",
        value: function addToTable(data) {
          this.tableData = this.dataSource.data;
          this.dataSource.data = this.tableData.push(data);
          this.dataSource = new _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatTableDataSource"](this.tableData);
          this.dataSource.sort = this.msort;
        }
      }, {
        key: "updateTable",
        value: function updateTable(oldRow, newRow) {
          this.tableData = this.dataSource.data; // Remove the old data from table.

          var index = this.tableData.findIndex(function (data) {
            return data === oldRow;
          });
          this.tableData.splice(index, 1); // Add update row.

          this.dataSource.data = this.tableData.push(newRow);
          this.dataSource = new _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatTableDataSource"](this.tableData);
          this.dataSource.sort = this.msort;
        }
      }]);

      return UserComponent;
    }();

    UserComponent.ctorParameters = function () {
      return [{
        type: _api_service__WEBPACK_IMPORTED_MODULE_1__["ApiService"]
      }, {
        type: _shared_toast_toast_service__WEBPACK_IMPORTED_MODULE_3__["ToastService"]
      }];
    };

    __decorate([Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])(_angular_material__WEBPACK_IMPORTED_MODULE_2__["MatPaginator"], {
      "static": false
    }), __metadata("design:type", _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatPaginator"])], UserComponent.prototype, "paginator", void 0);

    __decorate([Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])(_angular_material__WEBPACK_IMPORTED_MODULE_2__["MatSort"], {
      "static": false
    }), __metadata("design:type", _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatSort"])], UserComponent.prototype, "msort", void 0);

    UserComponent = __decorate([Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
      selector: 'app-user',
      template: __importDefault(__webpack_require__(
      /*! raw-loader!./user.component.html */
      "./node_modules/raw-loader/dist/cjs.js!./src/app/components/user/user.component.html"))["default"],
      styles: [__importDefault(__webpack_require__(
      /*! ./user.component.css */
      "./src/app/components/user/user.component.css"))["default"]]
    }), __metadata("design:paramtypes", [_api_service__WEBPACK_IMPORTED_MODULE_1__["ApiService"], _shared_toast_toast_service__WEBPACK_IMPORTED_MODULE_3__["ToastService"]])], UserComponent);
    /***/
  },

  /***/
  "./src/app/components/user/user.module.ts":
  /*!************************************************!*\
    !*** ./src/app/components/user/user.module.ts ***!
    \************************************************/

  /*! exports provided: UserRoutes, UserModule */

  /***/
  function srcAppComponentsUserUserModuleTs(module, __webpack_exports__, __webpack_require__) {
    "use strict";

    __webpack_require__.r(__webpack_exports__);
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "UserRoutes", function () {
      return UserRoutes;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "UserModule", function () {
      return UserModule;
    });
    /* harmony import */


    var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(
    /*! @angular/core */
    "./node_modules/@angular/core/fesm2015/core.js");
    /* harmony import */


    var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(
    /*! @angular/common */
    "./node_modules/@angular/common/fesm2015/common.js");
    /* harmony import */


    var _user_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(
    /*! ./user.component */
    "./src/app/components/user/user.component.ts");
    /* harmony import */


    var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(
    /*! @angular/router */
    "./node_modules/@angular/router/fesm2015/router.js");
    /* harmony import */


    var _material_module__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(
    /*! ../../material-module */
    "./src/app/material-module.ts");

    var __decorate = undefined && undefined.__decorate || function (decorators, target, key, desc) {
      var c = arguments.length,
          r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,
          d;
      if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) {
        if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
      }
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };

    var __importDefault = undefined && undefined.__importDefault || function (mod) {
      return mod && mod.__esModule ? mod : {
        "default": mod
      };
    };

    var UserRoutes = [{
      path: '',
      component: _user_component__WEBPACK_IMPORTED_MODULE_2__["UserComponent"]
    }];

    var UserModule = function UserModule() {
      _classCallCheck(this, UserModule);
    };

    UserModule = __decorate([Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"])({
      declarations: [_user_component__WEBPACK_IMPORTED_MODULE_2__["UserComponent"]],
      imports: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"], _material_module__WEBPACK_IMPORTED_MODULE_4__["MaterialModule"], _angular_router__WEBPACK_IMPORTED_MODULE_3__["RouterModule"].forChild(UserRoutes)]
    })], UserModule);
    /***/
  }
}]);
//# sourceMappingURL=components-user-user-module-es5.js.map