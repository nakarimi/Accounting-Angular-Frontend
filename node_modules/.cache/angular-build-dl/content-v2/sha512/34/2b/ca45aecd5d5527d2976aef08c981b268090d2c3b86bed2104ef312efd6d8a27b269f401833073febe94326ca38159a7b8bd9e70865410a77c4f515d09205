{"version":3,"sources":["./src/app/components/user/user.component.html","./src/app/components/user/user.component.css","./src/app/components/user/user.component.ts","./src/app/components/user/user.module.ts"],"names":[],"mappings":"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","file":"components-user-user-module-es2015.js","sourcesContent":["export default \"<table width=\\\"100%\\\" mat-table [dataSource]=\\\"dataSource\\\" matSort matSortActive=\\\"id\\\" matSortDisableClear\\n  matSortDirection=\\\"desc\\\">\\n\\n  <!-- Number Column -->\\n  <ng-container matColumnDef=\\\"username\\\">\\n    <th mat-header-cell *matHeaderCellDef mat-sort-header>Username</th>\\n    <td mat-cell *matCellDef=\\\"let row\\\">{{row.username}}</td>\\n  </ng-container>\\n  <ng-container matColumnDef=\\\"email\\\">\\n    <th mat-header-cell *matHeaderCellDef mat-sort-header>Email</th>\\n    <td mat-cell *matCellDef=\\\"let row\\\">{{row.email}}</td>\\n  </ng-container>\\n  <ng-container matColumnDef=\\\"first_name\\\">\\n    <th mat-header-cell *matHeaderCellDef mat-sort-header>First Name</th>\\n    <td mat-cell *matCellDef=\\\"let row\\\">{{row.first_name}}</td>\\n  </ng-container>\\n  <ng-container matColumnDef=\\\"last_name\\\">\\n    <th mat-header-cell *matHeaderCellDef mat-sort-header>Last Name</th>\\n    <td mat-cell *matCellDef=\\\"let row\\\">{{row.last_name}}</td>\\n  </ng-container>\\n  <ng-container matColumnDef=\\\"is_active\\\">\\n    <th mat-header-cell *matHeaderCellDef mat-sort-header>Is Active</th>\\n    <td mat-cell *matCellDef=\\\"let row\\\">{{row.is_active}}</td>\\n  </ng-container>\\n  <ng-container matColumnDef=\\\"date_joined\\\">\\n    <th mat-header-cell *matHeaderCellDef mat-sort-header>Date Joined</th>\\n    <td mat-cell *matCellDef=\\\"let row\\\">{{ row.date_joined | date: 'MMM d, y' }}</td>\\n  </ng-container>\\n  <ng-container matColumnDef=\\\"is_superuser\\\">\\n    <th mat-header-cell *matHeaderCellDef mat-sort-header>Is Superuser</th>\\n    <td mat-cell *matCellDef=\\\"let row\\\">\\n      <div [ngClass]=\\\"['super', 'superuser']\\\" *ngIf=\\\"row.is_superuser\\\">\\n        <mat-icon>check_circle</mat-icon>\\n        <div [ngClass]=\\\"'superusersync'\\\" (click)=\\\"switchSuperUser(row)\\\">\\n          <mat-icon>sync</mat-icon>\\n        </div>\\n      </div>\\n      <div [ngClass]=\\\"['nosuper', 'superuser']\\\" *ngIf=\\\"!row.is_superuser\\\">\\n        <mat-icon>cancel</mat-icon>\\n        <div [ngClass]=\\\"'superusersync'\\\" (click)=\\\"switchSuperUser(row)\\\">\\n          <mat-icon>sync</mat-icon>\\n        </div>\\n      </div>\\n      \\n    </td>\\n  </ng-container>\\n  <ng-container matColumnDef=\\\"last_login\\\">\\n    <th mat-header-cell *matHeaderCellDef mat-sort-header>Last Login</th>\\n    <td mat-cell *matCellDef=\\\"let row\\\">{{ row.last_login | date: 'MMM d, y HH:MM:SS' }}</td>\\n  </ng-container>\\n  <tr mat-header-row *matHeaderRowDef=\\\"displayedColumns\\\"></tr>\\n  <tr mat-row *matRowDef=\\\"let row; columns: displayedColumns;\\\"></tr>\\n  <mat-paginator [length]=\\\"resultsLength\\\" [pageSize]=\\\"30\\\"></mat-paginator>\\n</table>\"","export default \".superuser{\\r\\n  float: left;\\r\\n  width: 50px;\\r\\n}\\r\\n.superuser.super > .mat-icon {\\r\\n  color: chartreuse;\\r\\n}\\r\\n.superuser.nosuper > .mat-icon {\\r\\n  color:crimson;\\r\\n}\\r\\n.superusersync{\\r\\n  cursor: pointer;\\r\\n  display: none;\\r\\n  float: right;\\r\\n}\\r\\n.superuser:hover > .superusersync{\\r\\n  display: block;\\r\\n}\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy91c2VyL3VzZXIuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLFdBQVc7RUFDWCxXQUFXO0FBQ2I7QUFDQTtFQUNFLGlCQUFpQjtBQUNuQjtBQUNBO0VBQ0UsYUFBYTtBQUNmO0FBRUE7RUFDRSxlQUFlO0VBQ2YsYUFBYTtFQUNiLFlBQVk7QUFDZDtBQUNBO0VBQ0UsY0FBYztBQUNoQiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvdXNlci91c2VyLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuc3VwZXJ1c2Vye1xyXG4gIGZsb2F0OiBsZWZ0O1xyXG4gIHdpZHRoOiA1MHB4O1xyXG59XHJcbi5zdXBlcnVzZXIuc3VwZXIgPiAubWF0LWljb24ge1xyXG4gIGNvbG9yOiBjaGFydHJldXNlO1xyXG59XHJcbi5zdXBlcnVzZXIubm9zdXBlciA+IC5tYXQtaWNvbiB7XHJcbiAgY29sb3I6Y3JpbXNvbjtcclxufVxyXG5cclxuLnN1cGVydXNlcnN5bmN7XHJcbiAgY3Vyc29yOiBwb2ludGVyO1xyXG4gIGRpc3BsYXk6IG5vbmU7XHJcbiAgZmxvYXQ6IHJpZ2h0O1xyXG59IFxyXG4uc3VwZXJ1c2VyOmhvdmVyID4gLnN1cGVydXNlcnN5bmN7XHJcbiAgZGlzcGxheTogYmxvY2s7XHJcbn0iXX0= */\"","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { ApiService } from '../../api.service';\nimport { MatTableDataSource, MatSort, MatPaginator } from '@angular/material';\nimport { ToastService } from '../../shared/toast/toast-service';\n\n@Component({\n  selector: 'app-user',\n  templateUrl: './user.component.html',\n  styleUrls: ['./user.component.css']\n})\nexport class UserComponent implements OnInit {\n\n  // Define all the variable\n  displayedColumns: string[] = ['username', 'email', 'first_name', 'last_name', 'is_active', 'date_joined', 'last_login', 'is_superuser'];\n\n  resultsLength = 0;\n  isLoadingResults = true;\n  isRateLimitReached = false;\n  // Build the table data source based on table data.\n  tableData: any = [];\n  dataSource = new MatTableDataSource(this.tableData);\n\n  @ViewChild(MatPaginator, { static: false }) paginator: MatPaginator;\n  @ViewChild(MatSort, { static: false }) msort: MatSort;\n\n\n\n  constructor(\n    private apiService: ApiService,\n    public toast: ToastService\n  ) { }\n\n  ngOnInit() {\n    this.loadUsers();\n  }\n\n  loadUsers() {\n    this.apiService.loadAll('users').subscribe(\n      result => {\n        this.dataSource.data = result;\n        this.dataSource.sort = this.msort;\n        \n      },\n      error => {\n        console.log(error);\n      }\n    );\n  }\n\n  switchSuperUser(data) {\n    let msg;\n    if (data.is_superuser) {\n      msg = \"Are you sure to revoke Superuser?\"\n    }\n    else{\n      msg = \"Are you sure to make Superuser?\"\n    }\n    if (confirm(msg)) {\n      this.apiService.parUpdate(data.id, { 'is_superuser': !data.is_superuser}, 'users').subscribe(\n        result => {\n          this.toast.show('User updated successfully!',\n            { classname: 'bg-info text-light', delay: 2500 }\n          );\n          this.updateTable(data, result);\n        },\n        error => {\n          console.log(error);\n        }\n      );\n    }\n  }\n\n  addToTable(data) {\n    this.tableData = this.dataSource.data;\n    this.dataSource.data = this.tableData.push(data);\n    this.dataSource = new MatTableDataSource<any>(this.tableData);\n    this.dataSource.sort = this.msort;\n  }\n\n  updateTable(oldRow, newRow) {\n    this.tableData = this.dataSource.data;\n    // Remove the old data from table.\n    let index: number = this.tableData.findIndex(data => data === oldRow);\n    this.tableData.splice(index, 1);\n    // Add update row.\n    this.dataSource.data = this.tableData.push(newRow);\n    this.dataSource = new MatTableDataSource<any>(this.tableData);\n    this.dataSource.sort = this.msort;\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { UserComponent } from './user.component';\nimport { Routes, RouterModule } from '@angular/router';\nimport { MaterialModule } from '../../material-module';\n\n\nexport const UserRoutes: Routes = [{\n  path: '',\n  component: UserComponent\n}];\n\n@NgModule({\n  declarations: [\n    UserComponent,\n  ],\n  imports: [\n    CommonModule,\n    MaterialModule,\n    RouterModule.forChild(UserRoutes)\n  ]\n})\nexport class UserModule { }\n"],"sourceRoot":"webpack:///"}